# RandomForest

随机森林算法，随机构建多棵决策树，多颗决策树对object类别进行投票，票数多者即为随机森林输出的object的类别





## 内容列表

- [介绍](#介绍)
- [环境](#环境)
- [使用说明](#使用说明)
  - [Step1](#Step1)
  - [Step2](#Step2)
  - [Step3](#Step3)
- [相关文章](#相关文章)

## 介绍

该文档是为了帮助你快速了解该算法的操作流程。



项目分为两个部分，请分别作为项目打开：

- Watermelon部分使用随机森林算法对西瓜进行分类，演示了如何训练决策树并构建随机森林进行分类。
- Titanic部分使用随机森林算法预测泰坦尼克中的幸存者，并与直接使用决策树进行分类的结果进行了对比



## 环境

`~=`表示兼容的版本

```shell
python~=3.10
pandas~=1.5.1
numpy~=1.23.3
scikit-learn~=1.1.3
matplotlib~=3.6.2
seaborn~=0.12.1
graphviz~=0.20.1
pydotplus~=2.0.2
```

## 使用说明

### Watermelon

整个算法中包括三个部分：输入数据集，根据数据集随机创建多棵决策树，利用创建的决策树对输入的object类别进行判定

分别在三个.py文件中对其进行了实现

#### Step1：

运行createDataSet.py生成数据集并输出为dataSet.json和labels.json

数据集的最后一列应为该对象的类别，如：好瓜，坏瓜

##### 数据集输入示例：

```python
[
        # 1
        ['青绿', '蜷缩', '浊响', '清晰', '凹陷', '硬滑', '好瓜'],
        # 2
        ['乌黑', '蜷缩', '沉闷', '清晰', '凹陷', '硬滑', '好瓜'],
        # 3
        ['乌黑', '蜷缩', '浊响', '清晰', '凹陷', '硬滑', '好瓜'],
        # 4
        ['青绿', '蜷缩', '沉闷', '清晰', '凹陷', '硬滑', '好瓜'],
        # 5
        ['浅白', '蜷缩', '浊响', '清晰', '凹陷', '硬滑', '好瓜'],
        # 6
        ['青绿', '稍蜷', '浊响', '清晰', '稍凹', '软粘', '好瓜'],
        # 7
        ['乌黑', '稍蜷', '浊响', '稍糊', '稍凹', '软粘', '好瓜'],
        # 8
        ['乌黑', '稍蜷', '浊响', '清晰', '稍凹', '硬滑', '好瓜'],
        # 9
        ['乌黑', '稍蜷', '沉闷', '稍糊', '稍凹', '硬滑', '坏瓜'],
        # 10
        ['青绿', '硬挺', '清脆', '清晰', '平坦', '软粘', '坏瓜'],
        # 11
        ['浅白', '硬挺', '清脆', '模糊', '平坦', '硬滑', '坏瓜'],
        # 12
        ['浅白', '蜷缩', '浊响', '模糊', '平坦', '软粘', '坏瓜'],
        # 13
        ['青绿', '稍蜷', '浊响', '稍糊', '凹陷', '硬滑', '坏瓜'],
        # 14
        ['浅白', '稍蜷', '沉闷', '稍糊', '凹陷', '硬滑', '坏瓜'],
        # 15
        ['乌黑', '稍蜷', '浊响', '清晰', '稍凹', '软粘', '坏瓜'],
        # 16
        ['浅白', '蜷缩', '浊响', '模糊', '平坦', '硬滑', '坏瓜'],
        # 17
        ['青绿', '蜷缩', '沉闷', '稍糊', '稍凹', '硬滑', '坏瓜']
]
```

##### label输入示例：
```python
['色泽', '根蒂', '敲击', '纹理', '脐部', '触感', 'good/bad']
```


#### Step2：

运行RandomForest.py生成随机森林，并输出为treeSet.json

此步中需要step1中生成的dataSet.json和labels.json，当然你也可以用自己生成的dataSet.json文件和labels.json文件（要注意输入格式符合范例）

#### Step3:

运行DecideByRandomForest.py，读取dataSet.json labels.json 和treeSet.json

用户在控制台输入要判断的对象

输入对象应为一个属性列表，例：

```python
['青绿', '蜷缩', '浊响', '清晰', '凹陷', '硬滑',]
```
控制台将输出随机森林对该对象的类别判断结果如：

```python
好瓜
```

### Titanic





## 算法分析

### 算法流程



算法流程图：

![](\随机森林流程图.jpg)

### 算法复杂度受影响的可能因素

特征空间的维度

### 与其他分类算法的比较

Titanic项目中对比了随机森林算法与朴素贝叶斯、逻辑回归方法的模型得分，得分的计算方式为平均精确度*100。

| 模型       | 得分  |
| ---------- | ----- |
| 随机森林   | 86.64 |
| 逻辑回归   | 81.37 |
| 朴素贝叶斯 | 76.88 |



## 相关文章

[决策树总结（二）如何构建决策树 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/266880465)

[一文看懂随机森林 - Random Forest（附 4 个构造步骤+10 个优缺点） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/79248666)